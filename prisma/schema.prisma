generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Race {
  id                String   @id @default(uuid())
  slug              String   @unique
  name              String   @unique
  description       String?
  rerollCost        Int      @map("reroll_cost")
  apothecaryAllowed Boolean  @map("apothecary_allowed")
  pros              String[] @default([])
  cons              String[] @default([])

  // TODO: Add positions, teams and leagues
  position Position[]
}

model Position {
  id             String   @id @default(uuid())
  raceId         String   @map("race_id")
  name           String
  cost           Int
  movement       Int
  strength       Int
  agility        Int
  passing        Int?
  armorValue     Int      @map("armor_value")
  maxPerTeam     Int      @map("max_per_team")
  startingSkills String[] @map("starting_skills")

  race Race @relation(fields: [raceId], references: [id])
  // TODO: Add players relationship

  @@unique([raceId, name])
}

model Skill {
  id            String  @id @default(uuid())
  name          String  @unique
  slug          String  @unique
  description   String?
  category      String
  internalNotes String?

  // TODO
  // players PlayerSkill[]
}
